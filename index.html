<!DOCTYPE html>
<html class="ltr" dir="ltr" lang="it-IT">
  <head>
    <title>Home - Comune di Milano</title>
    <meta charset="UTF-8" />
  </head>

  <body>
    <div style="width: 100%; height: 100%">
      <img
        src="homepage_screenshot.png"
        style="max-width: 100%; max-height: 100%"
      />
    </div>
    <!-- https://github.com/botfront/rasa-webchat -->
    <div id="webchat"></div>

    <!-- <script src="https://cdn.jsdelivr.net/npm/rasa-webchat@1.0.1/lib/index.min.js"></script> -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://weai.it/static/css/widget/custom.css"
    />
    <script src="https://weai.it/static/js/widget/main.js"></script>
    <script src="https://weai.it/static/js/widget/index.js"></script>

    <!-- <link rel="stylesheet" type="text/css" href="./css/custom.css" />
    <script src="./js/main.js"></script>
    <script src="./js/index.js"></script> -->
  </body>
  <!-- <button id="button-custom">Cliccami</button> -->

  <script>
    // Rasa Web Chat
    window.WebChat.default({
      selector: "#webchat",
      initPayload: "/welcome",
      customData: {
        language: "en",
        token:
          "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ3ZWFpX3VzZXIiOnsidXNlcm5hbWUiOiJhZG1pbiIsInVzZXJfYWNjb3VudCI6W3siY2xpZW50Ijp7ImlkIjoxLCJuYW1lIjoidGVzdF9jb21wYW55In0sInByb2plY3QiOnsiaWQiOjEsIm5hbWUiOiJ0ZXN0X3Byb2plY3QiLCJyZXBvIjp7InVybCI6Imh0dHBzOi8vZ2l0aHViLmNvbS9Zb3VCb3RUZWFtL0NhdHRvbGljYV9ib3QuZ2l0IiwiYWNjb3VudF9uYW1lIjoiWW91Qm90VGVhbSIsImJyYW5jaCI6WyJtYXN0ZXIiLCJkZXZlbG9wIl19fSwiZ3JvdXAiOnsiaWQiOjIsIm5hbWUiOiJhZG1pbiJ9LCJyb2xlIjpbImFkbWluIl0sInNlcnZpY2VfYWNjb3VudCI6ZmFsc2UsInN1cGVydXNlciI6dHJ1ZSwidXNlcm5hbWUiOiJhZG1pbiIsInN0YXR1cyI6IlRCRCJ9XX0sImRhdGEiOm51bGwsImlhdCI6MTYzNTQyOTM4NC4zNzc0Njd9.SK_otCOCAFBrdvg0E8e5mgUFz0RHWXXtuU_Rax1FC5Q",
      },
      socketUrl: "https://demo.weai.it",
      socketPath: "/socket.io/",
      showFullScreenButton: true,
      title: "Assistente Virtuale",
      profileAvatar: "./images/favicon.ico",
      subtitle: "ARENA",
      hideWhenNotConnected: true,
      openAutomatically: true,
      showBadge: true,
      // elementTriggerOpenChat: {
      //   elementRef: document.getElementById("button-custom"),
      //   typeOfEvent: "click",
      // },
      elementTriggerResetChat: {
        elementRef: "reset-chat",
        typeOfEvent: "click",
      },
      inputTextFieldHint: "Scrivi la tua richiesta...",
      params: { storage: "session" },
    });
    ChatCustomization.configuration({
      clearCacheOnRefresh: true,
      autoFocusOnInput: true,
      enableClickOnImage: true,
      token:
        "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ3ZWFpX3VzZXIiOnsidXNlcm5hbWUiOiJhZG1pbiIsInVzZXJfYWNjb3VudCI6W3siY2xpZW50Ijp7ImlkIjoxLCJuYW1lIjoidGVzdF9jb21wYW55In0sInByb2plY3QiOnsiaWQiOjEsIm5hbWUiOiJ0ZXN0X3Byb2plY3QiLCJyZXBvIjp7InVybCI6Imh0dHBzOi8vZ2l0aHViLmNvbS9Zb3VCb3RUZWFtL0NhdHRvbGljYV9ib3QuZ2l0IiwiYWNjb3VudF9uYW1lIjoiWW91Qm90VGVhbSIsImJyYW5jaCI6WyJtYXN0ZXIiLCJkZXZlbG9wIl19fSwiZ3JvdXAiOnsiaWQiOjIsIm5hbWUiOiJhZG1pbiJ9LCJyb2xlIjpbImFkbWluIl0sInNlcnZpY2VfYWNjb3VudCI6ZmFsc2UsInN1cGVydXNlciI6dHJ1ZSwidXNlcm5hbWUiOiJhZG1pbiIsInN0YXR1cyI6IlRCRCJ9XX0sImRhdGEiOm51bGwsImlhdCI6MTYzNTQyOTM4NC4zNzc0Njd9.SK_otCOCAFBrdvg0E8e5mgUFz0RHWXXtuU_Rax1FC5Q",
      baseUrl: "https://demo.weai.it/service/",
      project_name: "Cattolica_bot",
      project_id: 1,
      mainButtonDimension: {
        width: "5rem",
        height: "5rem",
      },
      section: {
        widget: {
          width: "80%",
        },
        autocomplete: {
          enable: true,
        },
        pillole: {
          enable: true,
          disableButton: false,
          enableFullScreen: false,
          filename: "pillole_ref.json",
        },
        popup: {
          show: true,
          text: "Clicca sul bottone per inziare la chat",
        },
        feedback: {
          enable: true,
          title: "Lascia un feedback",
        },
        attachments: {
          show: true,
          accept: "image/png, image/jpeg",
        },
        buttonMenu: {
          enable: true,
        },
        resetChat: {
          enable: true,
        },
      },
      color: {
        primary: "#4fc7b5",
        message: {
          user: {
            color: "#fff",
            backgroundColor: "#4fc7b5",
          },
          bot: {
            color: "#fff",
            backgroundColor: "#4fc7b5",
          },
        },
        sendButton: "#4fc7b5",
      },
    });
  </script>
</html>

